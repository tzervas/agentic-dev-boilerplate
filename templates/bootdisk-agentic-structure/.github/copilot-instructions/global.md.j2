---
applyTo: '**/*.{rs,py,toml,json,yaml,md,sh{% for lang in languages %}{% if lang == 'typescript' %},ts,js{% elif lang == 'go' %},go{% endif %}{% endfor %}}'
---
# Global {{ project_name }} Project Instructions

## Project Overview
{{ project_name }} is {{ project_description }} featuring a multi-agent AI architecture for collaborative development.

## Core Architecture
{% for lang in languages %}
- **{{ lang|title }} Components**: {% if lang == 'rust' %}High-performance systems programming{% elif lang == 'python' %}AI orchestration and tooling{% else %}{{ lang|title }} implementation{% endif %}
{% endfor %}
- **Multi-Agent System**: 7 specialized AI agents for development workflows
- **Hybrid Development**: Optimal performance through language interop
- **Secure by Design**: Security-first approach with comprehensive validation

## Key Conventions

### Code Style
{% for lang in languages %}
{% if lang == 'rust' %}
- **Rust**: Follow `clippy` recommendations, use `Result<T, E>` for error handling, prefer `&str` over `String` for read-only strings
{% elif lang == 'python' %}
- **Python**: Follow PEP 8, use type hints, prefer dataclasses over dicts for structured data
{% elif lang == 'typescript' %}
- **TypeScript**: Use strict mode, prefer interfaces over types, use async/await
{% elif lang == 'go' %}
- **Go**: Follow effective Go guidelines, use proper error handling, prefer composition
{% endif %}
{% endfor %}
- **Naming**: Use snake_case for variables/functions, PascalCase for types/structs, SCREAMING_SNAKE_CASE for constants

### Security First
- Never hardcode secrets or credentials
- Use environment variables for configuration
- Implement input validation and sanitization
- Follow principle of least privilege
- Log security events appropriately

### Error Handling
{% for lang in languages %}
{% if lang == 'rust' %}
- **Rust**: Use `Result<T, E>` and `Option<T>` types, avoid `unwrap()` in production code
{% elif lang == 'python' %}
- **Python**: Use custom exception classes, provide meaningful error messages
{% elif lang == 'typescript' %}
- **TypeScript**: Use proper error types, avoid any for error handling
{% elif lang == 'go' %}
- **Go**: Return errors explicitly, use error wrapping
{% endif %}
{% endfor %}

### Configuration Management
- Use YAML for human-editable configuration files
- Validate configuration schemas at startup
- Provide sensible defaults
- Support environment variable overrides

### Testing Strategy
- Unit tests for all public functions
- Integration tests for component interactions
- Aim for 70%+ code coverage
- Mock external dependencies

### Documentation Standards
- All public APIs must have docstrings/doc comments
- Include usage examples in documentation
- Document security considerations
- Keep README and docs synchronized

## Development Workflow
1. **Planning**: Project Manager agent coordinates task breakdown
2. **Implementation**: SWE agent writes code following security and performance guidelines
3. **Testing**: Test Engineer validates functionality and coverage
4. **Security Review**: Security agent checks for vulnerabilities
5. **Quality Gate**: QA Evaluator ensures standards are met
6. **Documentation**: Documentation agent updates guides and API docs

## File Organization
- `src/`: Core source code
- `agents/`: AI agent implementations and workflows
- `docs/`: Documentation and guides
- `config/`: Configuration files and schemas
- `scripts/`: Build and utility scripts
- `.github/copilot-instructions/`: AI agent instructions for Copilot
- `.github/prompts/`: Dynamic prompt templates
- `.devcontainer/`: Containerized development environment

## Performance Considerations
{% for lang in languages %}
{% if lang == 'rust' %}
- Rust components handle performance-critical operations
{% endif %}
{% endfor %}
- Minimize allocations and copies in hot paths
- Use async/await for I/O-bound operations
- Profile and optimize bottlenecks

## AI/ML Integration
{% if ai_ml_support %}
- Use LangChain for agent orchestration
- Ollama for local LLM serving
- PyTorch for ML workloads
- Validate AI-generated code for security and correctness
- Cache expensive computations appropriately
{% endif %}

## Agent-Specific Guidelines

### Software Engineer
- Prioritize correctness, security, and performance
- Follow language-specific best practices
- Implement comprehensive error handling
- Write testable, maintainable code

### Test Engineer
- Write tests for all code paths
- Include edge cases and error conditions
- Maintain high test coverage
- Use appropriate testing frameworks

### Security Engineer
- Think like an attacker
- Implement defense in depth
- Validate all inputs
- Follow security best practices

Remember: This is a {% if security_critical %}security-critical{% else %}production{% endif %} system. Always prioritize correctness, security, and performance over convenience.
